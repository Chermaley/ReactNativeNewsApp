import React from "react";
import {Pressable, StyleSheet, Text, View} from "react-native";
import Svg, {Path} from "react-native-svg";
import { NavValuesType } from "../App";

type NavigationPropTypes = {
    currentTab: NavValuesType,
    setCurrentTab: (tab: NavValuesType) => void
}

type NavItemType = {
    title: string,
    value: NavValuesType,
    svgPath: string
}


export const Navigations: React.FC<NavigationPropTypes> = ({currentTab, setCurrentTab}) => {
    const navItems: NavItemType[] = [
        {title: "Новости", value: "main", svgPath: "M19.7558 9.41074L10.5891 0.243991C10.4328 0.0877636 10.2209 0 9.99988 0C9.77891 0 9.56698 0.0877636 9.41071 0.243991L0.243961 9.41074C0.127452 9.52728 0.0481125 9.67575 0.0159725 9.83738C-0.0161674 9.99901 0.000335241 10.1665 0.0633942 10.3188C0.126453 10.471 0.233237 10.6012 0.370246 10.6928C0.507256 10.7843 0.668339 10.8332 0.833133 10.8333H1.87481C1.93006 10.8333 1.98305 10.8552 2.02212 10.8943C2.06119 10.9333 2.08314 10.9863 2.08314 11.0416V19.1667C2.08314 19.3877 2.17094 19.5996 2.32722 19.7559C2.48351 19.9122 2.69547 20 2.91648 20H7.70819C7.76345 20 7.81644 19.9781 7.85551 19.939C7.89458 19.8999 7.91653 19.8469 7.91653 19.7917V15.8333C7.91653 15.2808 8.13602 14.7508 8.52673 14.3601C8.91743 13.9694 9.44734 13.7499 9.99988 13.7499C10.5524 13.7499 11.0823 13.9694 11.473 14.3601C11.8637 14.7508 12.0832 15.2808 12.0832 15.8333V19.7917C12.0832 19.8469 12.1052 19.8999 12.1443 19.939C12.1833 19.9781 12.2363 20 12.2916 20H17.0833C17.3043 20 17.5163 19.9122 17.6725 19.7559C17.8288 19.5996 17.9166 19.3877 17.9166 19.1667V11.0416C17.9166 10.9863 17.9386 10.9333 17.9776 10.8943C18.0167 10.8552 18.0697 10.8333 18.125 10.8333H19.1666C19.3314 10.8332 19.4925 10.7843 19.6295 10.6928C19.7665 10.6012 19.8733 10.471 19.9364 10.3188C19.9994 10.1665 20.0159 9.99901 19.9838 9.83738C19.9516 9.67575 19.8723 9.52728 19.7558 9.41074Z"},
        {title: "Главная", value: "news", svgPath: "M18.0488 0H1.95122C1.43372 0 0.937424 0.205574 0.571499 0.571499C0.205574 0.937424 0 1.43372 0 1.95122V18.0488C0 18.5663 0.205574 19.0626 0.571499 19.4285C0.937424 19.7944 1.43372 20 1.95122 20H18.0488C18.5663 20 19.0626 19.7944 19.4285 19.4285C19.7944 19.0626 20 18.5663 20 18.0488V1.95122C20 1.43372 19.7944 0.937424 19.4285 0.571499C19.0626 0.205574 18.5663 0 18.0488 0V0ZM10.7317 14.6341C10.7317 14.7635 10.6803 14.8876 10.5888 14.9791C10.4974 15.0706 10.3733 15.122 10.2439 15.122H5.36585C5.23648 15.122 5.1124 15.0706 5.02092 14.9791C4.92944 14.8876 4.87805 14.7635 4.87805 14.6341V13.6585C4.87805 13.5292 4.92944 13.4051 5.02092 13.3136C5.1124 13.2221 5.23648 13.1707 5.36585 13.1707H10.2439C10.3733 13.1707 10.4974 13.2221 10.5888 13.3136C10.6803 13.4051 10.7317 13.5292 10.7317 13.6585V14.6341ZM15.6098 10.2439C15.6098 10.3733 15.5584 10.4974 15.4669 10.5888C15.3754 10.6803 15.2513 10.7317 15.122 10.7317H5.36585C5.23648 10.7317 5.1124 10.6803 5.02092 10.5888C4.92944 10.4974 4.87805 10.3733 4.87805 10.2439V9.26829C4.87805 9.13892 4.92944 9.01484 5.02092 8.92336C5.1124 8.83188 5.23648 8.78049 5.36585 8.78049H15.122C15.2513 8.78049 15.3754 8.83188 15.4669 8.92336C15.5584 9.01484 15.6098 9.13892 15.6098 9.26829V10.2439ZM15.6098 5.85366C15.6098 5.98303 15.5584 6.10711 15.4669 6.19859C15.3754 6.29007 15.2513 6.34146 15.122 6.34146H5.36585C5.23648 6.34146 5.1124 6.29007 5.02092 6.19859C4.92944 6.10711 4.87805 5.98303 4.87805 5.85366V4.87805C4.87805 4.74868 4.92944 4.6246 5.02092 4.53312C5.1124 4.44164 5.23648 4.39024 5.36585 4.39024H15.122C15.2513 4.39024 15.3754 4.44164 15.4669 4.53312C15.5584 4.6246 15.6098 4.74868 15.6098 4.87805V5.85366Z"}
    ]
    
    return (
        <View style={styles.navigation}>
            {navItems.map((item) => {
                return <NavItem key={item.value}
                                isActive={currentTab === item.value}
                                svg={item.svgPath}
                                title={item.title}
                                setCurrentTab={() => setCurrentTab(item.value)}/>
            }) }
        </View>
    )
}

type NavItemPropTypes = {
    isActive: boolean,
    svg: string,
    title: string,
    setCurrentTab: () => void
}

const NavItem: React.FC<NavItemPropTypes> = ({isActive, svg,title, setCurrentTab}) => {
    return (
        <Pressable style={styles.item} onPress={setCurrentTab}>
            <Svg width="20" height="20" viewBox="0 0 20 20">
                <Path d={svg}
                      fill={!isActive ? "#ADB4BB" : "#0666EB"}/>
            </Svg>
            <Text style={styles.title}>{title}</Text>
        </Pressable>
    )
}

const styles = StyleSheet.create( {
    navigation: {
        paddingTop: 12,
        paddingBottom: 12,
        paddingLeft: 16,
        flexDirection: "row",
        backgroundColor: "rgba(255, 255, 255, 0.8)"
    },
    item: {
        alignItems: "center",
        marginRight: 25
    },
    title: {
        color: "#8B959E",
    }
})